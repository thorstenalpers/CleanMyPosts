<Page
	x:Class="XTweetCleaner.UI.Views.LogPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
	xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
	xmlns:viewmodels="clr-namespace:XTweetCleaner.UI.ViewModels"
	Style="{DynamicResource MahApps.Styles.Page}">

	<Border Padding="16" Background="{DynamicResource MahApps.Brushes.Background}">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>

			<!--  Header  -->
			<DockPanel Margin="0,0,0,8">
				<TextBlock
					VerticalAlignment="Center"
					DockPanel.Dock="Left"
					FontSize="20"
					FontWeight="Bold"
					Text="Application Log" />
				<Button
					HorizontalAlignment="Right"
					VerticalAlignment="Center"
					Command="{Binding ClearLogCommand}"
					Content="Clear Log"
					DockPanel.Dock="Right"
					Style="{StaticResource MahApps.Styles.Button.Flat}" />
			</DockPanel>

			<!--  Log Table  -->
			<ListView
				Grid.Row="1"
				AlternationCount="2"
				Background="Transparent"
				BorderThickness="0"
				ItemsSource="{Binding LogEntries}"
				SelectionMode="Single">
				<ListView.ItemContainerStyle>
					<Style TargetType="ListViewItem">
						<!--  Disable default highlighting  -->
						<Setter Property="Background" Value="Transparent" />
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}" />
						<Setter Property="BorderThickness" Value="0" />
						<Setter Property="Focusable" Value="False" />
						<Setter Property="Padding" Value="4" />
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="ListViewItem">
									<Border Background="{TemplateBinding Background}">
										<ContentPresenter />
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>

						<!--  Alternation (striping)  -->
						<Style.Triggers>
							<Trigger Property="ItemsControl.AlternationIndex" Value="1">
								<Setter Property="Background" Value="#0F000000" />
							</Trigger>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="#22000000" />
							</Trigger>
							<Trigger Property="IsSelected" Value="True">
								<Setter Property="Background" Value="#33007ACC" />
							</Trigger>
						</Style.Triggers>
					</Style>
				</ListView.ItemContainerStyle>

				<ListView.ItemTemplate>
					<DataTemplate>
						<TextBlock
							FontFamily="Consolas"
							FontSize="14"
							Text="{Binding}"
							TextWrapping="Wrap" />
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>

		</Grid>
	</Border>
</Page>
